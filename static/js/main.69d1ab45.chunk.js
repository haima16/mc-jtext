(this["webpackJsonpmc-test"]=this["webpackJsonpmc-test"]||[]).push([[0],{251:function(e,t,n){e.exports=n(546)},253:function(e,t,n){},254:function(e,t){String.prototype.escape=function(){return this.replace(/\\/g,"\\\\").replace(/"/g,'\\"')},String.prototype.unescape=function(){return this.replace(/\\\\/g,"\\").replace(/"/g,'"')},String.prototype.addAffix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return this[this.length-1]===e?this:this?this+e:this},String.prototype.trimStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null==e||""==e?"s":e,n=new RegExp("^".concat(t,"*"));return this.replace(n,"")},String.prototype.trimEnd=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null==e||""==e?"s":e,n=this.length,a=new RegExp(t);a.test(this.charAt(--n)););return this.substr(0,n+1)},String.prototype.replaceAll=function(e,t){return this.split("").reduce((function(n,a){return n+=a===e?t:a}),"")}},255:function(e,t){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},269:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},525:function(e,t,n){},546:function(e,t,n){"use strict";n.r(t);n(252),n(253),n(254),n(255);var a=n(0),i=n.n(a),r=n(3),o=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(177);var c,l=n(55),s=(n(85),n(11)),u=(n(178),n(51)),h=(n(180),n(30)),f=(n(131),n(22)),p=(n(86),n(31)),d=(n(133),n(64)),v=n(36),m=(n(134),n(14)),g=n(32),b=(n(135),n(49)),y=n(15),k=n(25),E=n(23),w=n(176),O=n(65),x=n(66),j=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(k.a)(this,e),this.action=void 0,this.value=void 0,this.action=t,this.value=n}return Object(E.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"getAction",value:function(){return this.action}},{key:"setAction",value:function(e){this.action=e}},{key:"toJson",value:function(){return Object.entries(this).reduce((function(e,t){var n=Object(y.a)(t,2),a=n[0],i=n[1];return e[a]="function"===typeof i?i.toJson():i,e}),{})}}]),e}();!function(e){e.open_url="open_url",e.change_page="change_page",e.run_command="run_command",e.suggest_command="suggest_command",e.copy_to_clipboard="copy_to_clipboard"}(c||(c={}));var C,T=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){return Object(k.a)(this,n),t.call(this,e.action?e.action:c.run_command,e.value)}return Object(E.a)(n,[{key:"export",value:function(){return this.value?this.toJson():null}},{key:"toString",value:function(){return this.value?(this.action!==c.run_command||this.value.startsWith("/")||(this.value="/"+this.value),'"clickEvent":{"action":"'.concat(this.action,'","value":"').concat(this.value,'"},')):""}}]),n}(j),S=n(73),A=n(248);!function(e){e.show_text="show_text",e.show_item="show_item",e.show_entity="show_entity"}(C||(C={}));var F=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e.action?e.action:C.show_text,e.value)).pro=0,e&&a.setPro(e.pro),a}return Object(E.a)(n,[{key:"getPro",value:function(){return this.pro}},{key:"setPro",value:function(e){if(void 0===e)return this;if(0===e||1===e)return this.pro=e,this;throw new TypeError("pro\u5b57\u6bb5\u7c7b\u578b\u9519\u8bef\uff0c\u5e94\u8be5\u662f0\u6216\u80051")}},{key:"export",value:function(){return this.value?this.toJson():null}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"toJson",value:function(){return Object(g.a)({},Object(A.a)(Object(S.a)(n.prototype),"toJson",this).call(this),{pro:this.pro})}},{key:"toString",value:function(){if(this.value){var e='"action":"'.concat(this.action,'",'),t="";return t=this.action===C.show_text?'"value":'.concat(this.action===C.show_text&&+this.pro?this.value:'"'+this.value+'"'):'"value":"'.concat(this.value.escape(),'"'),'"hoverEvent":{'.concat(e+t,"},")}return""}}]),n}(j),_=[{name:"\u9ed1\u8272",id:"black",sc:"000000",fc:"000000",bc:"000000"},{name:"\u6df1\u84dd\u8272",id:"dark_blue",sc:"0000b2",fc:"0000AA",bc:"00002A"},{name:"\u6df1\u7eff\u8272",id:"dark_green",sc:"14ab00",fc:"00AA00",bc:"002A00"},{name:"\u6e56\u84dd\u8272",id:"dark_aqua",sc:"13aaab",fc:"00AAAA",bc:"002A2A"},{name:"\u6df1\u7ea2\u8272",id:"dark_red",sc:"a90400",fc:"AA0000",bc:"2A0000"},{name:"\u7d2b\u8272",id:"dark_purple",sc:"a900b2",fc:"AA00AA",bc:"2A002A"},{name:"\u91d1\u8272",id:"gold",sc:"feac00",fc:"FFAA00",bc:"2A2A00"},{name:"\u7070\u8272",id:"gray",sc:"aaaaaa",fc:"AAAAAA",bc:"2A2A2A"},{name:"\u6df1\u7070\u8272",id:"dark_gray",sc:"555555",fc:"555555",bc:"151515"},{name:"\u84dd\u8272",id:"blue",sc:"544cff",fc:"5555FF",bc:"15153F"},{name:"\u7eff\u8272",id:"green",sc:"5cff00",fc:"55FF55",bc:"153F15"},{name:"\u5929\u84dd\u8272",id:"aqua",sc:"5bffff",fc:"55FFFF",bc:"153F3F"},{name:"\u7ea2\u8272",id:"red",sc:"fd5650",fc:"FF5555",bc:"3F1515"},{name:"\u7c89\u7ea2\u8272",id:"light_purple",sc:"fd4dff",fc:"FF55FF",bc:"3F153F"},{name:"\u9ec4\u8272",id:"yellow",sc:"ffff00",fc:"FFFF55",bc:"3F3F15"},{name:"\u767d\u8272",id:"white",sc:"FFFFFF",fc:"FFFFFF",bc:"3F3F3F"}],I=function(){function e(t){Object(k.a)(this,e),this.message=void 0,this.message=t}return Object(E.a)(e,[{key:"toString",value:function(){return this.message}}]),e}(),N=function(){function e(t){Object(k.a)(this,e),this.text="",this.color="white",this.selector="",this.nbt="",this.block="",this.entity="",this.storage="",this.bold=!1,this.italic=!1,this.underlined=!1,this.strikethrough=!1,this.obfuscated=!1,this.clickEvent=new T({}),this.hoverEvent=new F({}),this.score=new B(null),this.option="text",this.nbtOption="entity",null!==t&&(this.setOption(t.option,!0),"text"===this.option?this.setText(t.text):"nbt"===this.option?(this.setNbt(t.nbt),this.setNbtOption(t.nbtOption),"storage"===this.nbtOption?this.setStorage(t.storage):"entity"===this.nbtOption?this.setEntity(t.entity):this.setBlock(t.block)):"score"===this.option?this.setScore(t.score):"selector"===this.option&&this.setSelector(t.selector),this.setColor(t.color,!0),this.setBold(t.bold),this.setItalic(t.italic),this.setUnderlined(t.underlined),this.setStrikethrough(t.strikethrough),this.setObfuscated(t.obfuscated),this.setClickEvent(t.clickEvent),this.setHoverEvent(t.hoverEvent))}return Object(E.a)(e,[{key:"change",value:function(e){"bold"===e?this.bold=!this.bold:"italic"===e?this.italic=!this.italic:"obfuscated"===e?this.obfuscated=!this.obfuscated:"strikethrough"===e?this.strikethrough=!this.strikethrough:"underlined"===e&&(this.underlined=!this.underlined)}},{key:"setBold",value:function(e){this.bold=!!e}},{key:"setItalic",value:function(e){this.italic=!!e}},{key:"setUnderlined",value:function(e){this.underlined=!!e}},{key:"setStrikethrough",value:function(e){this.strikethrough=!!e}},{key:"setObfuscated",value:function(e){this.obfuscated=!!e}},{key:"getScore",value:function(){return this.score}},{key:"setScore",value:function(e){this.score=new B(e||{})}},{key:"getNbtOption",value:function(){return this.nbtOption}},{key:"getBlock",value:function(){return this.block}},{key:"getStorage",value:function(){return this.storage}},{key:"setStorage",value:function(e){this.storage=e}},{key:"setBlock",value:function(e){this.block=e}},{key:"getEntity",value:function(){return this.entity}},{key:"setEntity",value:function(e){this.entity=e}},{key:"setNbtOption",value:function(e){if(!e)throw new I('nbtOption\u7c7b\u578b\u6709\u8bef\uff0c\u5e94\u8be5\u662fblock" | "entity" | "storage');this.nbtOption=e}},{key:"isEmpty",value:function(){return"text"===this.option?""===this.text:"nbt"===this.option?""===this.nbt:"selector"===this.option?""===this.selector:"score"===this.option&&""===this.score.getName()}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){if(!e)throw new I('option\u7c7b\u578b\u6709\u8bef\uff0c\u5e94\u8be5\u662ftext" | "nbt" | "selector" | "score');this.option=e}else this.option=e}},{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e}},{key:"getNbt",value:function(){return this.nbt}},{key:"setNbt",value:function(e){this.nbt=e}},{key:"getSelector",value:function(){return this.selector}},{key:"setSelector",value:function(e){this.selector=e}},{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&e){if(!(_.findIndex((function(t){return t.id===e}))>-1))throw new I("color\u5b57\u6bb5\u7684\u503c\u6709\u8bef");this.color=e}else this.color=e||"white"}},{key:"getClickEvent",value:function(){return this.clickEvent}},{key:"setClickEvent",value:function(e){this.clickEvent=new T(e||{})}},{key:"getHoverEvent",value:function(){return this.hoverEvent}},{key:"setHoverEvent",value:function(e){this.hoverEvent=new F(e||{})}},{key:"getStyle",value:function(){var e=this,t={},n=[];if(this.color){var a=_.find((function(t){return t.id===e.color})).fc;t.color="#"+a}return this.bold&&(t.fontWeight=700),this.italic&&(t.fontStyle="italic"),this.underlined&&n.push("underline"),this.strikethrough&&n.push("line-through"),this.obfuscated&&n.push("overline"),n.length&&(t.textDecoration=n.join(" ")),t}},{key:"export",value:function(){this.option,this.text,this.nbt,this.nbtOption,this.block,this.entity,this.storage,this.score,this.selector,this.color;var e=Object(w.a)(this,["option","text","nbt","nbtOption","block","entity","storage","score","selector","color"]),t={};if(t.option=this.option,"text"===this.option)t.text=this.text;else if("nbt"===this.option)t.nbt=this.nbt,t.nbtOption=this.nbtOption,"storage"===this.nbtOption?t.storage=this.storage:"entity"===this.nbtOption?t.entity=this.entity:t.block=this.block;else if("score"===this.option)t.score=this.score.export();else{if("selector"!==this.option)throw new I("option\u4ec5\u80fd\u662ftext | nbt | score | selector");t.selector=this.selector}return"white"!==this.color&&(t.color=this.color),Object(g.a)({},t,{},this.valide(e))}},{key:"valide",value:function(e){return Object.entries(e).reduce((function(e,t){var n=Object(y.a)(t,2),a=n[0],i=n[1],r=typeof i;if("boolean"===r&&!1!==i||"string"===r&&""!==i)e[a]=i;else if("object"===r){var o=i.export();o&&(e[a]=o)}return e}),{})}},{key:"toJson",value:function(){return Object.entries(this).reduce((function(e,t){var n=Object(y.a)(t,2),a=n[0],i=n[1];return e[a]="object"===typeof i?i.toJson():i,e}),{})}},{key:"toString",value:function(){var e=this.text,t=this.option,n=this.nbtOption,a=this.nbt,i=this.selector,r=this.entity,o=this.block,c=this.storage,l=this.score,s=Object(w.a)(this,["text","option","nbtOption","nbt","selector","entity","block","storage","score"]),u=Object.keys(s).reduce((function(e,t){var n=s[t];return"object"===typeof n?e+=n.toString():n&&(e+="boolean"===typeof n?'"'.concat(t,'":').concat(n,","):'"'.concat(t,'":"').concat(n,'",')),e}),"").trimEnd(",");if("text"===t)return e?'{"text":"'.concat(e.replace(/\n/g,"\\n"),'",').concat(u,"}"):"";if("nbt"===t){var h="";return a?(h+='{"nbt":"'.concat(a,'",'),h+="storage"===n?'"storage":"'.concat(c,'",'):"entity"===n?'"entity":"'.concat(r,'",'):'"block":"'.concat(o,'",'),"".concat(h).concat(u,"}")):""}return"score"===t?l.getName()?"{".concat(l.toString()).concat(u,"}"):"":"selector"===t&&i?'{"selector":"'.concat(i,'",').concat(u,"}"):""}}]),e}(),J=function(){function e(t){if(Object(k.a)(this,e),this.tiles=[],this.actTile=null,this.actIndex=-1,this.mark="",this.time=(new Date).format("yy-MM-dd HH:mm:ss"),null!==t){if("object"!==typeof t||!Array.isArray(t.data))throw new I("\u5bfc\u5165\u6570\u636e\u9519\u8bef");this.tiles=t.data.map((function(e){return new N(e)})),this.mark=t.mark,this.time=t.time}}return Object(E.a)(e,[{key:"clear",value:function(){this.tiles=[],this.actIndex=-1,this.actTile=null}},{key:"lastTile",value:function(){return this.tiles[this.tiles.length-1]}},{key:"getTiles",value:function(){return this.tiles}},{key:"getMark",value:function(){return this.mark}},{key:"setMark",value:function(e){this.mark=e}},{key:"updateTime",value:function(){return this.time=(new Date).format("yyyy-MM-dd HH:mm:ss"),this}},{key:"getTime",value:function(){return this.time}},{key:"setTime",value:function(e){this.time=e}},{key:"setActTile",value:function(e){this.actIndex=e,this.actTile=-1===e?null:this.tiles[e]}},{key:"update",value:function(e){throw this.actIndex>-1&&(this.tiles[this.actIndex]=e),new RangeError("\u7d22\u5f15\u8d8a\u754c")}},{key:"next",value:function(){this.setActTile(++this.actIndex%this.tiles.length)}},{key:"prev",value:function(){this.setActTile(--this.actIndex<0?this.tiles.length-1:this.actIndex)}},{key:"posChange",value:function(e){if(e!==this.tiles.length-1||!this.lastTile().isEmpty()){var t=this.tiles.splice(this.actIndex,1),n=Object(y.a)(t,1)[0];this.tiles.splice(e,0,n),this.actIndex=e,this.actTile=n}}},{key:"editPro",value:function(){var e=this.actTile.export(),t=this.actTile.getText().split(/\n(?!\n)(?!$)/g);if(1===t.length){var n=new N(e);this.tiles.splice(this.actIndex,0,n),this.actIndex++}else{var a,i=t.map((function(t){var n=new N(e);return n.setText(t),n}));(a=this.tiles).splice.apply(a,[this.actIndex,1].concat(Object(v.a)(i)))}this.actTile=this.tiles[this.actIndex]}},{key:"add",value:function(){var e=new N(null),t=this.tiles[this.tiles.length-1];this.tiles.length&&t.isEmpty()?e=t:this.tiles.push(e),this.actTile=e,this.actIndex=this.tiles.length-1}},{key:"hasEmpty",value:function(){var e=this.getTiles().length;return!!(0===e||1===e&&this.tiles[0].isEmpty())}},{key:"remove",value:function(){this.tiles.splice(this.actIndex,1),this.tiles.length!==this.actIndex||(this.actIndex--,-1!==this.actIndex)?this.actTile=this.tiles[this.actIndex]:this.actTile=null}},{key:"export",value:function(){return{data:this.tiles.map((function(e){return e.export()})),mark:this.mark,time:(new Date).format("yyyy-MM-dd HH:mm:ss")}}},{key:"toJson",value:function(){return this.tiles.reduce((function(e,t){return e.nbt.push(t.toJson()),e.style.push(t.getStyle()),e}),{nbt:[],style:[],actIndex:this.actIndex,mark:this.mark})}},{key:"toString",value:function(){return this.tiles.reduce((function(e,t){return t&&(e+=t.toString()+","),e}),"").trimEnd(",")}}]),e}(),B=function(){function e(t){Object(k.a)(this,e),this.name="*",this.objective="",this.value="",this.option="objective",null!==t&&(this.setName(t.name),this.setOption(t.option),"objective"===t.option?this.setObjective(t.objective):this.setValue(t.value))}return Object(E.a)(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e||"*"}},{key:"getObjective",value:function(){return this.objective}},{key:"setObjective",value:function(e){this.objective=e,this.value=""}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(e){this.option=e||"objective"}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e,this.objective=""}}]),Object(E.a)(e,[{key:"export",value:function(){var e={};return e.name=this.name,e.option=this.option,"objective"===this.option?e.objective=this.objective:e.value=this.value,e}},{key:"toJson",value:function(){return Object.entries(this).reduce((function(e,t){var n=Object(y.a)(t,2),a=n[0],i=n[1];return e[a]="function"===typeof i?i.toJson():i,e}),{})}},{key:"toString",value:function(){return"value"===this.option?'"score":{"name":"'.concat(this.name,'","value":"').concat(this.value,'"},'):'"score":{"name":"'.concat(this.name,'","objective":"').concat(this.objective,'"},')}}]),e}(),M=(n(269),n(59)),R=n.n(M),V=n(118),H=["#f8e9cc","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],P=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.setState({displayColorPicker:!a.state.displayColorPicker})},a.handleClose=function(){a.setState({displayColorPicker:!1})},a.handleChange=function(e){a.setState({color:e.rgb}),a.props.onChange&&a.props.onChange(e.rgb)},a.state={displayColorPicker:!1,color:a.props.value?a.props.value:{r:0,g:0,b:0,a:1}},a}return Object(E.a)(n,[{key:"render",value:function(){var e=this.state.color,t=e.r,n=e.g,a=e.b,r=e.a,o={backgroundColor:"rgba(".concat(t,",").concat(n,",").concat(a,",").concat(r,")")};return i.a.createElement("div",{className:["mc-colorpicker",this.props.className].join(" ")},i.a.createElement("div",{className:"swatch",onClick:this.handleClick},i.a.createElement("div",{className:"color",style:o})),this.state.displayColorPicker?i.a.createElement("div",{style:this.props.popStyle,className:"popover"},i.a.createElement("div",{className:"cover",onClick:this.handleClose}),i.a.createElement(V.SketchPicker,{presetColors:H,color:this.state.color,onChange:this.handleChange})):null)}}]),n}(i.a.Component),D=(n(433),P),L=-1,q=-1,K=null,W=(n(434),function(e){var t="json-view"+(e.className?" "+e.className:""),n=function(t,n){L=t,n.target.style.opacity="0.3",n.target.classList.remove("animate"),e.onClick(t)},a=function(e,t){t.preventDefault(),L!==e&&(q=e,K&&K.classList.remove("drag-enter"),(K=t.target.parentNode).classList.add("drag-enter"))},r=function(t){-1!==q&&e.posChange(q),L=-1,K&&(t.target.classList.add("animate"),K.classList.remove("drag-enter"),K=null),t.target.style.opacity="1"};return i.a.createElement("div",{className:t,style:e.style},e.readonly?null:i.a.createElement("div",{className:"json-view-color"},i.a.createElement(D,{className:"pane",value:e.value,onChange:e.onChange})),i.a.createElement("div",{className:"json-view-pane"},e.jsonList.map((function(t,o){var c=e.styleList[o],l="mc-tile"+(e.actIndex===o?" active animate":""),s={key:o,style:Object(g.a)({},c),className:l};if(e.readonly||(s=Object(g.a)({},s,{draggable:!0,onDragOver:function(e){return e.preventDefault()},onDragStart:n.bind(null,o),onDragEnd:r,onDragEnter:a.bind(null,o),onClick:e.onClick.bind(null,o)})),"text"===t.option){var u=t.text.split("\n");return i.a.createElement("span",Object.assign({style:Object(g.a)({},c),className:l,key:o},s),u.map((function(e,t){return i.a.createElement("span",{key:t,className:"mc-tile-end"},e.replaceAll(" ","\u25ab"),u.length-1!==t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"mc-tile-enter"},"\ufe41"),i.a.createElement("br",null)))})))}return i.a.createElement("span",s,"@"+t.option)}))))}),$=(n(435),n(247)),z=(n(547),n(246)),G=n(171),U=n.n(G),Y=function(e){var t,n=Object(a.useState)([]),r=Object(y.a)(n,2),o=r[0],c=r[1],l=Object(a.useState)([]),u=Object(y.a)(l,2),h=u[0],f=u[1],v=Object(a.useState)(),k=Object(y.a)(v,2)[1],E=Object(a.useState)(""),w=Object(y.a)(E,2),O=w[0],x=w[1],j=Object(a.useRef)(),C=function(e){R()(e.replace(/\\\\n/g,"")),b.a.close("replace")},T={selectedRowKeys:o,onChange:function(e,t){c((function(){return e})),f((function(){return t}))}},S=function(t){e.removeOne(t),c((function(e){return e.filter((function(e){return e!==t}))}))},A=function(e,t,n){e.length?(t(),x((function(){return e[0]}))):m.a.warning("\u8bf7\u8f93\u5165\u7b5b\u9009\u6761\u4ef6")},F=[{title:"\u5e8f\u53f7",width:50,render:function(e,t,n){return n+1}},Object(g.a)({key:"mark",dataIndex:"mark",title:"\u5907\u6ce8",render:function(t,n){var a=n.data.toJson();return i.a.createElement(d.a,{title:i.a.createElement(W,{readonly:!0,className:"mc-tellraw-view",jsonList:a.nbt,styleList:a.style})},i.a.createElement("a",{style:{marginRight:8},onClick:e.editData.bind(null,n.id)},t))}},(t="mark",{filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys,a=e.confirm,r=e.clearFilters;return i.a.createElement("div",{style:{padding:8}},i.a.createElement(p.a,{ref:j,placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return A(n,a)},style:{width:188,marginBottom:8,display:"block"}}),i.a.createElement(s.a,{type:"primary",onClick:function(){return A(n,a)},size:"small",style:{width:90,marginRight:8}},"\u7b5b\u9009"),i.a.createElement(s.a,{onClick:function(){return function(e){e(),x((function(){return""}))}(r)},size:"small",style:{width:90}},"\u91cd\u7f6e"))},onFilter:function(e,n){return n[t].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return j.current.select()}))}})),{key:"time",dataIndex:"time",title:"\u521b\u5efa\u65f6\u95f4",width:180,sorter:function(e,t){return Date.parse(e.time)-Date.parse(t.time)}},{key:"action",dataIndex:"action",fixed:"right",title:"\u64cd\u4f5c",width:130,render:function(t,n,a){return i.a.createElement("div",null,i.a.createElement("a",{style:{marginRight:8},onClick:e.generate.bind(null,a,!1)},"\u751f\u6210"),i.a.createElement("a",{style:{marginRight:8},title:"\u542f\u7528hover\u9ad8\u7ea7\u6a21\u5f0f\uff0c\u5e76\u586b\u5145\u5f53\u524d\u9879",onClick:e.fillHover.bind(null,a)},"hover"),i.a.createElement("a",{style:{color:"red"},onClick:S.bind(null,n.id)},"\u5220\u9664"))}}];return i.a.createElement($.a,{width:720,onClose:e.onClose,visible:e.visible,title:i.a.createElement("div",null,i.a.createElement("div",{style:{float:"right",marginRight:50}},i.a.createElement(U.a,null,i.a.createElement(s.a,{onClick:function(){if(o.length){var e=h.reduce((function(e,t){return e+=t.data.toString()+","}),"").trimEnd(",");return R()('/tellraw @p ["",'.concat(e,"]")),void m.a.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")}m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")},type:"primary"},"tellraw"),i.a.createElement(s.a,{onClick:function(){if(o.length>0&&o.length<=4){var e=h.map((function(e,t){return"Text".concat(t+1,':"[').concat(e.data.toString().escape().trimEnd(","),']"')})).join(",");return e.includes("\\n")&&b.a.warning({key:"replace",message:"\u8b66\u544a",description:"\u6728\u724c\u4e2d\u65e0\u6cd5\u663e\u793a\u6362\u884c\uff0c\u662f\u5426\u5c06\u5176\u5220\u9664\uff1f",btn:i.a.createElement(s.a,{type:"primary",onClick:C.bind(null,e)},"\u66ff\u6362")}),R()("/give @p oak_sign{BlockEntityTag:{".concat(e,"}}")),void m.a.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")}m.a.warning("\u8bf7\u9009\u62e91-4\u9879")}},"sign"),i.a.createElement(s.a,{onClick:function(){if(o.length){var e=h.map((function(e){return'"['.concat(e.data.toString().escape().trimEnd(","),']"')})).join(",");return R()("/give @p written_book{pages:[".concat(e,'],title:"",author:"made by JText Studio"}')),void m.a.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")}m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")}},"book"),i.a.createElement(s.a,{onClick:function(){if(o.length){var e=h.reduce((function(e,t){return e+=t.data.toString()+","}),"").trimEnd(",");return R()('/title @p title ["",'.concat(e,"]")),void m.a.success("\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")}m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")}},"title")),i.a.createElement(U.a,{style:{marginLeft:10}},i.a.createElement(s.a,{disabled:!!O.length,onClick:e.move.bind(null,h),title:"\u5c06\u9009\u62e9\u9879\u5411\u4e0a\u79fb\u52a8"},"\u79fb\u52a8"),i.a.createElement(s.a,{disabled:!!O.length,onClick:e.pack.bind(null,o,h)},"\u6574\u7406"),i.a.createElement(s.a,{style:{color:"red"},onClick:function(){e.remove(o),c((function(){return[]}))}},"\u5220\u9664"))),i.a.createElement("h3",null,"\u4ed3\u5e93")),bodyStyle:{paddingBottom:80}},i.a.createElement(z.a,{columns:F,size:"small",locale:{emptyText:"\u6682\u65e0\u6570\u636e"},rowKey:"id",rowSelection:T,pagination:!1,onChange:function(e,t,n){k((function(){return n}))},dataSource:e.data}))},Q=(n(238),n(125)),X=function(e){var t=Object(a.useState)(""),n=Object(y.a)(t,2),r=n[0],o=n[1],c=Object(a.useRef)();return Object(a.useEffect)((function(){c.current&&c.current.focus()}),[e.visible]),i.a.createElement(Q.a,{visible:e.visible,onCancel:function(){e.onCancel&&e.onCancel(),o((function(){return""}))},onOk:function(){e.onSubmit&&e.onSubmit(r),o((function(){return""}))},okText:"\u89e3\u6790",cancelText:"\u53d6\u6d88",title:"\u5bfc\u5165\u6570\u636e"},i.a.createElement(p.a,{autoFocus:!0,ref:c,value:r,spellCheck:!1,placeholder:"\u8bf7\u8f93\u5165",onChange:function(e){e.persist(),o((function(){return e.target.value}))}}))},Z=(n(525),["#000000","#0000AA","#00AA00","#00AAAA","#AA0000","#AA00AA","#FFAA00","#AAAAAA","#555555","#5555FF","#55FF55","#55FFFF","#FF5555","#FF55FF","#FFFF55","#FFFFFF"]),ee=["black","dark_blue","dark_green","dark_aqua","dark_red","dark_purple","gold","gray","dark_gray","blue","green","aqua","red","light_purple","yellow","white"],te=function(e){var t=Object(a.useState)(e.value||"white"),n=Object(y.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),l=Object(y.a)(c,2),s=l[0],u=l[1];Object(a.useEffect)((function(){o((function(){return e.value}))}),[e.value]);var h,f=function(){u((function(){return!1}))};return i.a.createElement("div",{style:e.style,title:"ctrl+\u21c5",className:"select-color"},i.a.createElement("div",{onClick:function(){u((function(){return!0}))},className:"select-color-watch"},i.a.createElement("div",{style:{backgroundColor:(h=r,Z[ee.indexOf(h)]||"white")},className:"select-color-tile"})),s&&i.a.createElement("div",{className:"select-color-pane"},i.a.createElement("div",{onClick:f,className:"select-color-cover"}),i.a.createElement(V.GithubPicker,{width:"220px",onChange:function(t){var n=function(e){return ee[Z.indexOf(e.toLocaleUpperCase())]||"#ffffff"}(t.hex);o((function(){return n})),f(),e.onChange&&e.onChange(n)},colors:Z})))},ne=(n(526),n(129)),ae=function(){function e(t){Object(k.a)(this,e),this.init(t)}return Object(E.a)(e,[{key:"init",value:function(e){this.buffer=[],this.pos=-1;for(var t={"{":"begin_brace","}":"end_brace","[":"begin_bracket","]":"end_bracket","\\":"backslash",'"':"quote",",":"comma",":":"colon"},n="",a=0;a<e.length;a++){var i=e[a];t[i]?(n.trim()&&(this.buffer.push({value:n.trim(),type:"string"}),n=""),this.buffer.push({value:i,type:t[i]})):n+=i}}},{key:"hasMore",value:function(){return this.pos<this.buffer.length}},{key:"next",value:function(){return this.buffer[++this.pos]}},{key:"predict",value:function(){return this.buffer[Math.min(this.buffer.length,this.pos+1)]}},{key:"peek",value:function(){return this.buffer[Math.max(0,this.pos-1)]}},{key:"beforePeek",value:function(){return this.pos-1<0?null:this.buffer[this.pos-2]}},{key:"back",value:function(){this.pos=Math.max(0,--this.pos)}}]),e}(),ie=function(){function e(){Object(k.a)(this,e)}return Object(E.a)(e,null,[{key:"parse",value:function(t){return e.deep=0,e.tokens=new ae(t),"begin_bracket"===e.tokens.peek().type?e.parseArray():e.parseObject()}},{key:"unescape",value:function(e){return e.replace("\\\\","\\").replace('\\"','"')}},{key:"escape",value:function(e){return e.replace("\\","\\\\").replace('\\"','"')}},{key:"parseArray",value:function(t){for(var n=[],a=e.tokens.next(),i=!0;;){if(i){if("end_bracket"===e.tokens.predict().type){e.tokens.next();break}n.push(e.parseValue(t)),i=!1}if("comma"!==(a=e.tokens.next()).type){if("end_bracket"===a.type)break;if("quote"===a.type)break;throw new Error("unexpect type of ".concat(a.type," !"))}if("end_bracket"===e.tokens.predict().type)throw new Error("unexpect comma as ',' !");i=!0}return n}},{key:"trim",value:function(){if(e.deep){for(var t=2*e.deep-1;t-- >0;)if("backslash"!==e.tokens.next().type)throw new Error("unexpect type of ".concat(e.tokens.peek(),"!, lack of backslah"));if("quote"!==e.tokens.next().type)throw new Error("unexpect type of ".concat(e.tokens.peek(),"!, expect is quote"))}}},{key:"parseKey",value:function(){e.trim();var t=e.tokens.next();if("string"===t.type)return e.trim(),t.value;throw new Error("unexpect type of ".concat(t.type,"!, expect is string"))}},{key:"parseValue",value:function(t){var n=e.tokens.predict();return"begin_brace"===n.type?e.parseObject(t):"begin_bracket"===n.type?e.parseArray(t):"quote"===n.type?e.parseString():"string"===n.type?e.tokens.next().value:t&&"backslash"===n.type?(e.tokens.next(),e.parseString(!0)):e.parseKey()}},{key:"parseObject",value:function(t){for(var n={},a=e.tokens.next(),i=!0;;){if("end_brace"===e.tokens.predict().type){e.tokens.next();break}if(i){var r=e.parseKey();if("colon"!==e.tokens.next().type)throw new Error("unexpect comma as ".concat(e.tokens.peek().type," !, expect is colon"));var o=e.parseValue(t);n[r]=o,i=!1}if(!e.tokens.predict())break;if("comma"!==(a=e.tokens.next()).type){if("end_bracket"===a.type){e.tokens.back();break}if("end_brace"===a.type){var c=e.tokens.predict();if(t){if("quote"!==c.type&&"end_brace"!==c.type&&"end_bracket"!==c.type)throw new Error("unexpect comma as ".concat(e.tokens.peek().type," !, expect is quote or brace"));e.tokens.next();break}if(c){if("comma"===c.type)break;if("end_bracket"===c.type)break;if("end_brace"===c.type)break}e.tokens.next();break}throw new Error("unexpect type of ".concat(a.type," !"))}if("end_brace"===e.tokens.predict().type)throw new Error("unexpect comma as ',' !");i=!0}return t&&--e.deep,n}},{key:"parseString",value:function(t){if(e.tokens.next(),"begin_brace"===e.tokens.predict().type)return e.deep++,e.parseObject(!0);if("begin_bracket"===e.tokens.predict().type)return e.deep++,e.parseArray(!0);for(var n="",a=[],i=e.tokens.next();;){if(!i)throw new Error("lack of closed quote");if(t&&"backslash"===i.type){if("quote"===e.tokens.predict().type&&0===a.length)return e.tokens.next(),n;for(var r=e.deep;r>0;r--)if("backslash"!==e.tokens.next().type)throw new Error("lack of backslash");if(a.push("\\"),"backslash"===(i=e.tokens.next()).type)a.pop();else{if("quote"!==i.type){n+=a.join(""),a=[];continue}if(a.length)return n}throw new Error("lack of closed quote or backslash")}if("quote"===i.type)return n;n+=i.value,i=e.tokens.next()}}}]),e}();ie.deep=0;var re,oe,ce=function(e){var t=Object(a.useState)([]),n=Object(y.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)([]),l=Object(y.a)(c,2),s=l[0],f=l[1],d=Object(a.useState)(void 0),g=Object(y.a)(d,2),b=g[0],k=g[1],E=Object(a.useRef)(),w=Object(a.useRef)(""),O=Object(a.useRef)("entity");Object(a.useEffect)((function(){E.current&&E.current.focus()}),[e.visible]);return i.a.createElement(Q.a,{visible:e.visible,onCancel:function(){e.onCancel&&e.onCancel()},onOk:function(){if(e.onSubmit){var t=r.reduce((function(e,t){return e+((Array.isArray(t)?"".concat(t[0],"[").concat(t[1],"]"):t)+".")}),"");e.onSubmit(t.slice(0,-1),w.current,O.current)}},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u6e38\u620f\u4e2dF3 + i\u590d\u5236nbt"},i.a.createElement(u.a,{style:{marginBottom:10}},i.a.createElement(h.a,{span:3},i.a.createElement("span",{style:{lineHeight:"32px"}},"nbt\uff1a")),i.a.createElement(h.a,{span:21},i.a.createElement(p.a.Search,{allowClear:!0,enterButton:"\u89e3\u6790",autoFocus:!0,ref:E,spellCheck:!1,onSearch:function(e){try{var t=e.indexOf("{");if(-1===t)m.a.error("\u8bf7\u8f93\u5165\u5408\u6cd5\u7684nbt");else{if(e.startsWith("/setblock")){var n=e.match(/setblock (.+) minecraft/);n&&(w.current=n[1],O.current="block")}else if(e.startsWith("/summon")){var a=e.match(/summon minecraft:(\w+)/);a&&(w.current=a[1],O.current="entity")}var i=ie.parse(e.slice(t));f((function(){return i})),k((function(){return""})),m.a.success("\u89e3\u6790\u6210\u529f\uff0c\u8bf7\u9009\u62e9\u9700\u8981\u7684\u8def\u5f84")}}catch(r){m.a.error("\u8bf7\u8f93\u5165\u5408\u6cd5\u7684nbt")}},placeholder:"\u8bf7\u8f93\u5165"}))),i.a.createElement(u.a,null,i.a.createElement(h.a,{span:3},i.a.createElement("span",{style:{lineHeight:"32px"}},"\u8def\u5f84\uff1a")),i.a.createElement(h.a,{span:21},i.a.createElement(ne.a,{dropdownStyle:{maxHeight:350,overflow:"auto"},notFoundContent:"\u6682\u65e0\u5185\u5bb9\u53ef\u9009",style:{width:"100%"},onSelect:function(e,t){var n=t.props.path;k((function(){return n})),o((function(){return n}))},value:b,placeholder:"\u8bf7\u9009\u62e9"},function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Array.isArray(t);return r&&(n=a.pop()),Object.keys(t).map((function(o){var c=t[o],l=typeof c,s=[].concat(Object(v.a)(a),[r?[n,o]:o]);return"string"===l||"boolean"===l||"number"===l?i.a.createElement(ne.a.TreeNode,{path:s,title:"".concat(o,": ").concat(c),key:s.toString(),value:s.toString()}):i.a.createElement(ne.a.TreeNode,{path:s,title:"".concat(o),key:s.toString(),value:s.toString()},e(c,Object(v.a)(s)))}))}(s)))))},le=n(40);!function(e){e[e.welcome=1]="welcome",e[e.nbtPath=2]="nbtPath",e[e.add=4]="add",e[e.split=8]="split",e[e.style=16]="style",e[e.save=32]="save",e[e.drag=64]="drag",e[e.color=128]="color",e[e.export=256]="export",e[e.share=512]="share",e[e.video=1024]="video"}(oe||(oe={}));var se=(re={},Object(le.a)(re,oe.add,{key:"addMsg",message:"tips",duration:0,description:"\u4f7f\u7528\u300c\u65b0\u589e\u300d\u6765\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684tile\uff0c\u5feb\u6377\u952eshift+enter"}),Object(le.a)(re,oe.welcome,{key:"welcomeMsg",message:"\u4eb2\u7231\u7684MC\u73a9\u5bb6\uff0c\u60a8\u597d",duration:0,description:"\u6b22\u8fce\u60a8\u4f7f\u7528JText Studio\uff0c\u8f6f\u4ef6\u7279\u8272\uff1a\u53cb\u597d\u7684\u4ea4\u4e92\u3001\u9ad8\u6548\u7684\u5f00\u53d1\uff0c\u7279\u522b\u9002\u5408\u840c\u65b0\u548c\u5730\u56fe\u5236\u4f5c\u8005\u3002\u5982\u679c\u60a8\u89c9\u7684\u597d\u7528\uff0c\u53ef\u4ee5\u5206\u4eab\u7ed9\u81ea\u5df1\u7684\u670b\u53cb\u3002"}),Object(le.a)(re,oe.nbtPath,{key:"nbtPathMsg",message:"tips",duration:0,description:"\u4f7f\u7528\u53f3\u4fa7\u7684\u300c\u89e3\u6790\u300d\u5feb\u901f\u7684\u5b8c\u6210\u586b\u5199"}),Object(le.a)(re,oe.style,{key:"styleMsg",message:"tips",duration:0,description:"\u4f7f\u7528\u300c\u6837\u5f0f\u680f\u300d\u7684\u6309\u94ae\u6539\u53d8\u5f53\u524dtile\u7684\u6837\u5f0f"}),Object(le.a)(re,oe.split,{key:"splitMsg",message:"tips",duration:0,description:"\u4f7f\u7528\u300c\u62c6\u5206\u300d\u529f\u80fd\uff0c\u5feb\u6377\u952ectrl+k"}),Object(le.a)(re,oe.save,{key:"saveMsg",message:"tips",duration:0,description:"\u4f7f\u7528\u300c\u6682\u5b58\u300d\u6309\u94ae\u4e34\u65f6\u5b58\u50a8\u5f53\u524d\u7684tile group\uff0c \u5feb\u6377\u952ectrl+shift+s"}),Object(le.a)(re,oe.drag,{key:"dragMsg",message:"tips",duration:0,description:"\u9f20\u6807\u5de6\u952e\u62d6\u62fdtile\u653e\u7f6e\u5230\u9700\u8981\u8c03\u6574\u7684\u4f4d\u7f6e\uff0c\u5f53\u653e\u7f6e\u4f4d\u7f6e\u9ad8\u4eae\u65f6\u677e\u5f00\u9f20\u6807\u5b8c\u6210\u8c03\u6574"}),Object(le.a)(re,oe.color,{key:"colorMsg",message:"tips",description:"\u989c\u8272\u770b\u7740\u523a\u773c\uff1f\u8bd5\u8bd5\u53f3\u4e0a\u89d2\u7684\u8c03\u8272\u677f"}),Object(le.a)(re,oe.export,{key:"exportMsg",message:"tips",duration:0,description:"\u4f60\u53ef\u4ee5\u628a\u5b83\u5206\u4eab\u7ed9\u4f60\u7684\u5c0f\u4f19\u4f34\uff0c\u544a\u8bc9\u4ed6\u70b9\u51fb\u300c\u5bfc\u5165\u300d\u6765\u4f7f\u7528\u54e6~"}),Object(le.a)(re,oe.share,{key:"shareMsg",message:"tips",description:"\u8fd8\u6ee1\u610f\u5417\uff1f\u597d\u7528\u8bb0\u5f97\u5206\u4eab\u7ed9\u4f60\u7684\u5c0f\u4f19\u4f34"}),Object(le.a)(re,oe.video,{key:"videoMsg",message:"tips",duration:0,description:"\u5982\u679c\u89c9\u5f97\u4e0d\u592a\u4f1a\u7528\uff0c\u53ef\u4ee5\u89c2\u770bb\u7ad9\u6f14\u793a\u89c6\u9891\uff0cBV\u53f7\uff1aBV1gE411W7og"}),re),ue=function(){function e(){Object(k.a)(this,e),this.tips=void 0,this.total=10,this.count=0,this.tips=+window.localStorage.getItem("tips")||0}return Object(E.a)(e,[{key:"exist",value:function(e){return this.tips&e}},{key:"getRate",value:function(){return this.count/this.total}},{key:"showTips",value:function(e){this.exist(e)||(b.a.info(se[e]),this.tips+=e,this.count++,window.localStorage.setItem("tips",this.tips+""))}}]),e}(),he=(n(542),n(6)),fe=(n(544),n(175)),pe=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).saveInputRef=i.a.createRef(),a.handleClose=function(e){var t=a.props.tags.filter((function(t){return t!==e}));a.props.onClose(t)},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.saveInputRef.current.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.props.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(v.a)(t),[e])),a.setState({inputVisible:!1,inputValue:""}),a.props.onChange&&a.props.onChange(t)},a.state={inputVisible:!1,inputValue:""},a}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.inputVisible,a=t.inputValue;return i.a.createElement("div",null,this.props.tags.map((function(t,n){var a=t.length>8,r=i.a.createElement(fe.a,{style:{marginBottom:8},onClick:e.props.onClick.bind(null,t),key:t,closable:n>3,onClose:function(){return e.handleClose(t)}},a?"".concat(t.slice(0,8),"..."):t);return a?i.a.createElement(d.a,{title:t,key:t},r):r})),n&&i.a.createElement(p.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:a,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&i.a.createElement(fe.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},i.a.createElement(he.a,{type:"plus"}),"\u6807\u7b7e"))}}]),n}(i.a.Component),de={r:248,g:233,b:204,a:1},ve=(window.Tooltips||(window.Tooltips=new ue),window.Tooltips),me=new J(null);me.add();var ge=function(){var e=Object(a.useState)({}),t=Object(y.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(de),c=Object(y.a)(o,2),k=c[0],E=c[1],w=Object(a.useState)(me.toJson()),O=Object(y.a)(w,2),x=O[0],j=O[1],C=Object(a.useState)(!1),T=Object(y.a)(C,2),S=T[0],A=T[1],F=Object(a.useState)(!1),N=Object(y.a)(F,2),B=N[0],M=N[1],V=Object(a.useState)(!1),H=Object(y.a)(V,2),P=H[0],D=H[1],L=Object(a.useState)([]),q=Object(y.a)(L,2),K=q[0],$=q[1],z=Object(a.useRef)(""),G=Object(a.useRef)(),U=Object(a.useRef)(),Q=Object(a.useRef)(),Z=Object(a.useRef)(),ee=Object(a.useState)([]),ne=Object(y.a)(ee,2),ae=ne[0],ie=ne[1];Object(a.useEffect)((function(){window.addEventListener("keydown",Ae),ve.showTips(oe.welcome),se(),le(),re();var e=ue();return fe(),function(){clearTimeout(e),window.removeEventListener("keydown",Ae)}}),[]);var re=function(){"0.4.0"!==window.localStorage.getItem("version")&&(b.a.info({key:"log",message:"\u66f4\u65b0\u65e5\u5fd7 - v".concat("0.4.0"),description:i.a.createElement("ol",null,i.a.createElement("li",null,"\u6dfb\u52a0\u6807\u7b7e\u529f\u80fd\uff0c\u7528\u4e8e\u5feb\u901f\u586b\u5199\u5907\u6ce8"),i.a.createElement("li",null,"\u5feb\u6377\u952e\u8c03\u6574\uff0c\u5220\u9664\u7ebfctrl + s -> ctrl + shift + s\uff1b\u6682\u5b58ctrl + shift + s ->ctrl + s"),i.a.createElement("li",null,"\u5e93\u7ba1\u7406\u8fdb\u4e00\u6b65\u52a0\u5f3a\uff0c\u6dfb\u52a0\u4e86\u5907\u6ce8\u7b5b\u9009\u3001\u6309\u65f6\u95f4\u6392\u5e8f\u548c\u9884\u89c8\u529f\u80fd"),i.a.createElement("li",null,"\u52a0\u5165\u672c\u5730\u5b58\u50a8\u529f\u80fd\uff0c\u6807\u7b7e\u548c\u4ed3\u5e93\u6570\u636e\u4f1a\u5b9e\u65f6\u7f13\u5b58\u5230\u672c\u5730\uff0c\u5173\u95ed\u6d4f\u89c8\u5668\u518d\u6b21\u6253\u5f00\u4f1a\u81ea\u52a8\u52a0\u8f7d\u7f13\u5b58\u6570\u636e")),duration:0}),window.localStorage.setItem("version","0.4.0"))},le=function(){var e=window.localStorage.getItem("data");try{var t=e?JSON.parse(e):[];if(t.length){var n=t.map((function(e){return Object(g.a)({},e,{data:new J(e.data)})}));$((function(){return n})),m.a.success("\u7f13\u5b58\u6570\u636e\u52a0\u8f7d\u6210\u529f\uff0c\u5171".concat(n.length,"\u6761"))}}catch(a){m.a.error("\u4ed3\u5e93\u6570\u636e\u52a0\u8f7d\u5f02\u5e38"),window.localStorage.setItem("store","")}},se=function(){try{var e=window.localStorage.getItem("tags");ie((function(){return e?JSON.parse(e):["tellraw","sign","book","title"]}))}catch(t){m.a.error("\u6807\u7b7e\u6570\u636e\u52a0\u8f7d\u5f02\u5e38"),window.localStorage.setItem("tags","")}},ue=function(){return setTimeout((function(){var e=ve.getRate();e<.5?ve.showTips(oe.video):e>.8&&ve.showTips(oe.share)}),3e5)};Object(a.useEffect)((function(){if(1!==ve.getRate()&&me.actTile){var e=me.actTile.getText(),t=me.getTiles(),n=me.actTile.getColor();e.length>4?ve.showTips(oe.add):e.includes("\n")?ve.showTips(oe.split):t.length>3&&t.length<=5?ve.showTips(oe.style):t.length>5&&t.length<=7?ve.showTips(oe.save):t.length>7?ve.showTips(oe.drag):"aqua"===n||"green"===n?ve.showTips(oe.color):"nbt"===me.actTile.getOption()&&ve.showTips(oe.nbtPath)}}));var he=function(e){me.actTile.change(e),fe(),b.a.close("styleMsg")},fe=function(){r((function(){return me.actTile||me.add(),me.actTile.toJson()})),j((function(){return me.toJson()}))},ge=function(){me.actTile.isEmpty()||(me.editPro(),b.a.close("splitMsg"),fe())},be=function(){me.actTile.isEmpty()?m.a.warn("\u5fc5\u586b\u9879\u4e3a\u7a7a\uff0c\u8bf7\u586b\u5199"):(me.add(),fe())},ye=function(){me.actTile.isEmpty()&&me.hasEmpty()||(me.setActTile(-1),fe())},ke=function(){me.hasEmpty()||(me.actTile?(me.remove(),fe()):m.a.warning("\u8bf7\u9009\u4e2d\u8981\u5220\u9664\u7684\u9879"))},Ee=function(){me.hasEmpty()||((me=new J(null)).add(),r((function(){return{}})),j((function(){return{nbt:[],style:[],actIndex:-1,mark:""}})),fe())},we=function(e){me.setActTile(e),fe(),Oe()},Oe=function(){"text"===n.option?G.current.focus():"nbt"===n.option?U.current.focus():"selector"===n.option?Q.current.focus():Z.current.focus()},xe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&me.hasEmpty())m.a.warning("\u8bf7\u5148\u6dfb\u52a0\u4e00\u9879");else{var n=null==e?me:K[e].data,a='["",'.concat(n.toString().trimEnd(","),"]");R()(a),m.a.success("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f")}},je=function(){if(me.hasEmpty())m.a.warning("\u7a7a\u7a7a\u5982\u4e5f~\uff0c\u5feb\u53bb\u6dfb\u52a0\u5427");else{me.setActTile(-1);var e={data:me,time:me.updateTime().getTime(),mark:me.getMark()?me.getMark():me.getTiles()[0].getText().substr(0,20),id:Math.random().toString(36).slice(3)};$((function(t){var n=z.current,a=t.findIndex((function(e){return e.id===n}));return n&&a>-1?(t.splice(a,1,Object(g.a)({},e,{id:n})),z.current=""):t.push(e),window.localStorage.setItem("data",JSON.stringify(t.map((function(e){return Object(g.a)({},e,{data:e.data.export()})})))),Object(v.a)(t)})),m.a.success("\u6682\u5b58\u6210\u529f\uff0c\u70b9\u51fb\u4ed3\u5e93\u67e5\u770b"),Ee()}},Ce=function(){A((function(){return!0}))},Te=function(e){me.actTile.setText(e.target.value),fe()},Se={"ctrl+b":function(){return me.actTile.change("bold")},"ctrl+i":function(){return me.actTile.change("italic")},"ctrl+u":function(){return me.actTile.change("underlined")},"ctrl+s":je,"ctrl+o":function(){return me.actTile.change("obfuscated")},"ctrl+arrowleft":function(){return me.prev()},"ctrl+arrowright":function(){return me.next()},"ctrl+arrowup":function(){var e=_.findIndex((function(e){return e.id===me.actTile.getColor()}));me.actTile.setColor(_[(e+1)%16].id)},"ctrl+arrowdown":function(){var e=_.findIndex((function(e){return e.id===me.actTile.getColor()}));me.actTile.setColor(_[0===e?15:e-1].id)},"ctrl+delete":ke,"ctrl+g":xe.bind(null,null),"ctrl+k":ge,"shift+enter":function(){b.a.close("addMsg"),be()},escape:ye,"ctrl+p":Ce,"ctrl+shift+s":function(){return me.actTile.change("strikethrough")}},Ae=function(e){var t=e.key.toLowerCase(),n=[];e.ctrlKey&&n.push("ctrl"),e.shiftKey&&n.push("shift"),e.altKey&&n.push("alt"),n.push(t);var a=Se[n.join("+")];a&&(e.preventDefault(),a(),fe())},Fe=function(e){me.actTile.setNbtOption(e),r((function(){return me.actTile.toJson()}))},_e=function(e){me.actTile.getScore().setOption(e),r((function(){return me.actTile.toJson()}))},Ie=function(e){me.actTile.setNbt(e.target.value),r((function(){return me.actTile.toJson()}))},Ne=function(e){var t=me.actTile,n=e.target.value;"block"===t.getNbtOption()?t.setBlock(n):"entity"===t.getNbtOption()?t.setEntity(n):t.setStorage(n),r((function(){return t.toJson()}))},Je=function(e){me.actTile.getScore().setName(e.target.value),r((function(){return me.actTile.toJson()}))},Be=function(e){var t=me.actTile.getScore();"objective"===t.getOption()?t.setObjective(e.target.value):t.setValue(e.target.value),r((function(){return me.actTile.toJson()}))},Me=function(e){me.actTile.setSelector(e.target.value),r((function(){return me.actTile.toJson()}))},Re=function(){D((function(){return!0})),b.a.close("nbtPathMsg")},Ve=function(e){window.localStorage.setItem("tags",JSON.stringify(e)),ie((function(){return e}))};return i.a.createElement("div",{className:"mc-tellraw"},i.a.createElement(X,{visible:B,onCancel:function(){M((function(){return!1}))},onSubmit:function(e){try{var t=JSON.parse(e);me=new J(t),M((function(){return!1})),m.a.success("\u5bfc\u5165\u6210\u529f"),j((function(){return me.toJson()})),me.setActTile(0)}catch(n){n instanceof I?m.a.error(n.toString()):m.a.error("\u5bfc\u5165\u6570\u636e\u9519\u8bef\uff0c\u65e0\u6cd5\u89e3\u6790")}}}),i.a.createElement(ce,{visible:P,onCancel:function(){D((function(){return!1}))},onSubmit:function(e,t,n){e?(me.actTile.setNbt(e),t&&(me.actTile.getEntity()||"entity"!==n||me.actTile.setEntity("@e[type=".concat(t,",limit=1,sort=nearest]")),me.actTile.getBlock()||"block"!==n||me.actTile.setBlock(t)),n&&me.actTile.setNbtOption(n),r((function(){return me.actTile.toJson()})),D((function(){return!1}))):m.a.warning("\u8bf7\u9009\u62e9\u8def\u5f84")}}),i.a.createElement(u.a,null,i.a.createElement(h.a,{style:{textAlign:"right",lineHeight:"30px"},span:3},"\u9884\u89c8\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(W,{className:"mc-tellraw-view",style:{backgroundColor:function(e){var t=e.r,n=e.g,a=e.b,i=e.a;return"rgba(".concat(t,",").concat(n,",").concat(a,",").concat(i,")")}(k),minHeight:180,maxHeight:240,overflowY:"auto"},onClick:we,value:k,onChange:function(e){E((function(){return e}))},jsonList:x.nbt,posChange:function(e){me.posChange(e),fe()},styleList:x.style,actIndex:x.actIndex}))),i.a.createElement("div",{className:"mc-tellraw-cont"},i.a.createElement("div",{className:"mc-tellraw-right-bar"},i.a.createElement(u.a,{className:"group"},i.a.createElement(h.a,{style:{textAlign:"right",lineHeight:"30px"},span:3},"\u64cd\u4f5c\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(s.a.Group,{style:{float:"left"}},i.a.createElement(s.a,{style:{width:65},type:"primary",onClick:be,title:"shift+enter"},"\u65b0\u589e"),i.a.createElement(s.a,{disabled:"text"!==n.option,style:{width:65},title:"ctrl+k",onClick:ge},"\u62c6\u5206"),i.a.createElement(s.a,{style:{width:65,color:"red"},onClick:ke,title:"ctrl+delete"},"\u5220\u9664"),i.a.createElement(s.a,{style:{width:65,color:"red"},onClick:Ee},"\u6e05\u7a7a"),i.a.createElement(s.a,{style:{width:65},onClick:ye,title:"esc"},"\u53d6\u6d88"),i.a.createElement(s.a,{style:{width:65},onClick:xe.bind(null,null,!0),title:"ctrl+g"},"\u751f\u6210"),i.a.createElement(s.a,{style:{width:65},onClick:je,title:"ctrl+s"},"\u6682\u5b58"),i.a.createElement(s.a,{style:{width:65},onClick:function(){M((function(){return!0}))}},"\u5bfc\u5165"),i.a.createElement(s.a,{style:{width:65},onClick:function(){me.hasEmpty()?m.a.warning("\u7a7a\u7a7a\u5982\u4e5f~\uff0c\u5feb\u53bb\u6dfb\u52a0\u5427"):(R()(JSON.stringify(me.export())),ve.showTips(oe.export),m.a.success("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"))}},"\u5bfc\u51fa"),i.a.createElement(s.a,{style:{width:65},type:"primary",onClick:Ce,title:"ctrl+p"},"\u4ed3\u5e93")))),i.a.createElement(u.a,{className:"group"},i.a.createElement(h.a,{style:{textAlign:"right",lineHeight:"30px"},span:3},"\u6837\u5f0f\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(s.a.Group,{style:{paddingRight:10}},i.a.createElement(s.a,{style:{width:65},type:n.bold?"primary":"default",onClick:he.bind(null,"bold"),title:"ctrl+b"},"\u7c97\u4f53"),i.a.createElement(s.a,{style:{width:65},type:n.italic?"primary":"default",onClick:he.bind(null,"italic"),title:"ctrl+i"},"\u659c\u4f53"),i.a.createElement(s.a,{style:{width:65},type:n.underlined?"primary":"default",onClick:he.bind(null,"underlined"),title:"ctrl+u"},"\u4e0b\u5212\u7ebf"),i.a.createElement(s.a,{style:{width:65},type:n.strikethrough?"primary":"default",onClick:he.bind(null,"strikethrough"),title:"ctrl+shift+s"},"\u5220\u9664\u7ebf"),i.a.createElement(s.a,{style:{width:65},type:n.obfuscated?"primary":"default",onClick:he.bind(null,"obfuscated"),title:"ctrl+o"},"\u6df7\u6dc6")),i.a.createElement("span",null,"\u5b57\u4f53\u989c\u8272\uff1a",i.a.createElement(te,{value:n.color,onChange:function(e){me.actTile.setColor(e),fe()}})))),i.a.createElement(u.a,{style:{marginBottom:10}},i.a.createElement(h.a,{span:3,style:{textAlign:"right",paddingTop:4}},"\u70b9\u51fbclick\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(p.a,{addonBefore:i.a.createElement(f.a,{onChange:function(e){me.actTile.getClickEvent().setAction(e),fe()},value:n.clickEvent&&n.clickEvent.action,defaultValue:"run_command",style:{width:100}},i.a.createElement(f.a.Option,{value:"run_command"},"\u6267\u884c\u6307\u4ee4"),i.a.createElement(f.a.Option,{value:"open_url"},"\u6253\u5f00\u7f51\u5740"),i.a.createElement(f.a.Option,{value:"suggest_command"},"\u8f93\u5165\u6587\u672c"),i.a.createElement(f.a.Option,{value:"copy_to_clipboard"},"\u590d\u5236\u5185\u5bb9"),i.a.createElement(f.a.Option,{value:"change_page"},"\u5207\u6362\u9875\u7801")),placeholder:"\u9009\u586b",allowClear:!0,value:n.clickEvent&&n.clickEvent.value,onChange:function(e){me.actTile.getClickEvent().setValue(e.target.value),fe()}}))),i.a.createElement(u.a,{style:{marginBottom:10}},i.a.createElement(h.a,{span:3,style:{textAlign:"right",paddingTop:4}},"\u60ac\u6d6ehover\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(p.a,{addonBefore:i.a.createElement(f.a,{onChange:function(e){me.actTile.getHoverEvent().setAction(e),fe()},value:n.hoverEvent&&n.hoverEvent.action,defaultValue:"show_text",style:{width:100}},i.a.createElement(f.a.Option,{value:"show_text"},"text"),i.a.createElement(f.a.Option,{value:"show_item"},"item"),i.a.createElement(f.a.Option,{value:"show_entity"},"entity")),placeholder:"\u9009\u586b",allowClear:!0,value:n.hoverEvent&&n.hoverEvent.value,onChange:function(e){me.actTile.getHoverEvent().setValue(e.target.value),fe()},addonAfter:n.hoverEvent&&n.hoverEvent.action&&"show_text"===n.hoverEvent.action?i.a.createElement(f.a,{onChange:function(e){me.actTile.getHoverEvent().setPro(e),fe()},value:n.hoverEvent&&n.hoverEvent.pro},i.a.createElement(f.a.Option,{value:0},"\u5e38\u89c4\u6a21\u5f0f"),i.a.createElement(f.a.Option,{value:1},"\u9ad8\u7ea7\u6a21\u5f0f")):null}))),i.a.createElement(u.a,{style:{marginBottom:10}},i.a.createElement(h.a,{span:3,style:{textAlign:"right",paddingTop:4}},"\u53ef\u9009\u7c7b\u578b\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(l.a.Group,{defaultValue:"text",value:n.option,onChange:function(e){me.actTile.setOption(e.target.value),fe()},style:{marginBottom:10}},i.a.createElement(l.a,{key:"text",value:"text"},"text"),i.a.createElement(l.a,{key:"nbt",value:"nbt"},"nbt"),i.a.createElement(l.a,{key:"selector",value:"selector"},"selector"),i.a.createElement(l.a,{key:"score",value:"score"},"score")),"nbt"===n.option?i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:10}},i.a.createElement(p.a,{autoFocus:!0,key:"nbt",ref:U,value:n.nbt,spellCheck:!1,onChange:Ie,suffix:i.a.createElement(d.a,{title:"\u89e3\u6790\u4e00\u6bb5\u5408\u6cd5\u7684nbt\u6807\u7b7e"},i.a.createElement("span",{onClick:Re,style:{cursor:"pointer",color:"#1890ff"}},"\u89e3\u6790")),addonBefore:i.a.createElement("div",{style:{width:53,textAlign:"left"}},"nbt"),placeholder:"\u5fc5\u586b\u9879\uff0c\u8bf7\u8f93\u5165"})),i.a.createElement("div",null,i.a.createElement(p.a,{spellCheck:!1,placeholder:"\u5fc5\u586b\u9879\uff0c\u8bf7\u8f93\u5165",value:"block"===n.nbtOption?n.block:"entity"===n.nbtOption?n.entity:n.storage,onChange:Ne,addonBefore:i.a.createElement(f.a,{defaultValue:"entity",value:n.nbtOption,onChange:Fe,style:{width:75}},i.a.createElement(f.a.Option,{value:"block"},"block"),i.a.createElement(f.a.Option,{value:"entity"},"entity"),i.a.createElement(f.a.Option,{value:"storage"},"storage"))}))):"score"===n.option?i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:10}},i.a.createElement(p.a,{value:n.score.name,onChange:Je,spellCheck:!1,placeholder:"\u5fc5\u586b\u9879\uff0c\u8bf7\u8f93\u5165",addonBefore:i.a.createElement("div",{style:{width:79,textAlign:"left"}},"name")})),i.a.createElement("div",null,i.a.createElement(p.a,{key:"score",spellCheck:!1,ref:Z,autoFocus:!0,placeholder:"\u5fc5\u586b",value:"objective"===n.score.option?n.score.objective:n.score.value,onChange:Be,addonBefore:i.a.createElement(f.a,{defaultValue:"objective",style:{width:100},value:n.score.option,onChange:_e},i.a.createElement(f.a.Option,{key:"objective",value:"objective"},"objective"),i.a.createElement(f.a.Option,{key:"value",value:"value"},"value"))}))):"selector"===n.option?i.a.createElement(p.a,{ref:Q,autoFocus:!0,value:n.selector,onChange:Me,spellCheck:!1,placeholder:"\u5fc5\u586b\u9879\uff0c\u8bf7\u8f93\u5165",addonBefore:i.a.createElement("div",{style:{width:53,textAlign:"left"}},"selector")}):i.a.createElement(p.a.TextArea,{ref:G,autoFocus:!0,spellCheck:!1,value:n.text,onChange:Te,style:{resize:"none"},placeholder:"\u5fc5\u586b\u9879\uff0c\u8bf7\u8f93\u5165",rows:8}))),i.a.createElement(u.a,{style:{marginBottom:10}},i.a.createElement(h.a,{span:3,style:{textAlign:"right",paddingTop:4}},"\u5907\u6ce8\uff1a"),i.a.createElement(h.a,{span:19},i.a.createElement(p.a,{style:{marginBottom:10},maxLength:20,placeholder:"\u9009\u586b\uff0c\u965020\u5b57",value:x.mark,onChange:function(e){me.setMark(e.target.value),fe()}}),i.a.createElement(pe,{tags:ae,onClose:Ve,onClick:function(e){me.setMark(e),fe()},onChange:Ve}))))),i.a.createElement(Y,{generate:xe,fillHover:function(e){var t=K[e].data.toString(),n='["",'.concat(t.toString().trimEnd(","),"]");me.actTile.getHoverEvent().setPro(1).setValue(n),fe()},editData:function(e){var t=K.find((function(t){return t.id===e}));me=t.data,z.current=e,j((function(){return me.toJson()})),we(0)},removeOne:function(e){z.current===e&&(Ee(),z.current=""),$((function(t){var n=t.findIndex((function(t){return t.id===e}));return t.splice(n,1),window.localStorage.setItem("data",JSON.stringify(t.map((function(e){return Object(g.a)({},e,{data:e.data.export()})})))),Object(v.a)(t)})),m.a.success("\u5220\u9664\u6210\u529f")},remove:function(e){e.length?(e.forEach((function(e){z.current===e&&(Ee(),z.current=""),K.splice(K.findIndex((function(t){return t.id===e})),1),window.localStorage.setItem("data",JSON.stringify(K.map((function(e){return Object(g.a)({},e,{data:e.data.export()})}))))})),$((function(){return Object(v.a)(K)})),m.a.success("\u5220\u9664\u6210\u529f")):m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e91\u9879")},pack:function(e,t){if(e.length<1)m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e24\u9879");else{var n=K.findIndex((function(e){return e.id===t[0].id}));e.forEach((function(e){K.splice(K.findIndex((function(t){return t.id===e})),1)})),K.splice.apply(K,[n,0].concat(Object(v.a)(t))),$((function(){return Object(v.a)(K)}))}},move:function(e){if(e.length){var t=e[0],n=e[e.length-1],a=K.findIndex((function(e){return e===t})),i=K.findIndex((function(e){return e===n})),r=(0===a?K.length:a)-1;K.splice.apply(K,[r,0].concat(Object(v.a)(K.splice(a,i-a+1)))),$((function(){return Object(v.a)(K)}))}else m.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")},visible:S,data:K,onClose:function(){A((function(){return!1})),Oe()}}))};o.a.render(i.a.createElement("div",null,i.a.createElement("h1",null,"JText Studio",i.a.createElement("span",null,"\u5320\u5fc3\u6253\u9020\uff0c\u8ffd\u6c42\u6781\u81f4"),i.a.createElement("div",{className:"right"},i.a.createElement("a",{href:"https://gitee.com/hans000/JText-Studio",target:"_blank"},"\u4f7f\u7528\u6587\u6863"),i.a.createElement("a",{href:"https://gitee.com/hans000/JText-Studio/issues",target:"_blank"}," \u95ee\u9898\u53cd\u9988"),i.a.createElement("a",{href:"https://gitee.com/hans000/JText-Studio/blob/master/log.md",target:"_blank"}," \u66f4\u65b0\u65e5\u5fd7"))),i.a.createElement("div",{className:"cont"},i.a.createElement(ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[251,1,2]]]);
//# sourceMappingURL=main.69d1ab45.chunk.js.map